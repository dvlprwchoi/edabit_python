score = {'#': 5, 'O': 3, 'X': 1, '!': -1, '!!': -3, '!!!': -5}


def check_score(s):
    return max(0, sum(score[val] for row in s for val in row))


print(check_score([
    ["!!!", "O", "!"],
    ["X", "#", "!!!"],
    ["!!", "X", "O"]
]))

print(check_score([
    ["#", "!"],
    ["!!", "X"]
]))

print(check_score([
    ["#", "O", "#", "!!", "X", "!!", "#", "O", "O", "!!", "#", "X", "#", "O"],
    ["!!!", "!!!", "!!", "!!", "!", "!", "X",
        "!", "!!!", "O", "!", "!!!", "X", "#"],
    ["#", "X", "#", "!!!", "!", "!!", "#", "#", "!!", "X", "!!", "!!!", "X", "O"],
    ["!!", "X", "!!", "!!", "!!!", "#", "O", "O", "!!!", "#", "O", "O", "#", "!!"],
    ["O", "X", "#", "!", "!", "X", "!!!", "O", "!!!", "!!", "O", "!", "O", "X"],
    ["!!", "!!!", "X", "!!!", "!!", "!!", "!!!",
     "X", "O", "!", "#", "!!", "!!", "!!!"],
    ["!!", "!!", "#", "O", "!", "!!", "!", "!!!", "#", "O", "#", "!", "#", "!!"],
    ["X", "X", "O", "X", "!!!", "#", "!!!", "!!!", "X", "X", "X", "!", "#", "!!"],
    ["O", "!!!", "!", "O", "#", "!", "!", "#", "X", "X", "#", "O", "!!", "!"],
    ["X", "!", "!!", "#", "#", "X", "!!", "O", "!!", "X", "X", "!!", "#", "X"],
    ["!", "!!", "!!", "O", "!!", "!!", "#", "#", "!", "!!!", "O", "!", "#", "#"],
    ["!", "!!!", "!!", "X", "!!", "!!", "#",
        "!!!", "O", "!!", "!!!", "!", "!", "!"],
    ["!!!", "!!!", "!!", "O", "!", "!", "!!!",
     "!!!", "!!", "!!", "X", "!", "#", "#"],
    ["O", "O", "#", "O", "#", "!", "!!!", "X", "X", "O", "!", "!!!", "X", "O"]
]))

print(check_score([['#', '!', 'O', '!!', '#', '!!', '!!', 'X', '!', 'X', '!!!', '!!!', 'X', '#'], ['!', '#', '!!', '!!!', 'X', 'X', '#', '!!', 'O', '!!!', '!', '!!!', '#', 'O'], ['O', 'X', '!!!', '#', '!!!', '!', '!', '!', '#', '!!', '!!!', 'X', '!', 'X'], ['#', '!!', '!!', '#', 'O', '!', 'X', 'X', '!!!', '#', '#', '!!!', '#', '!'], ['#', 'O', 'X', 'X', '!!', '#', 'O', 'X', '#', '!', '!', '!', 'O', '#'], ['X', '!', 'X', 'O', '!', '!', '!!', '!!', '!!', '!!', '!!!', '!!!', '!', 'X'], ['!!!', '!', '!!', 'O', '!!!', 'X', '#', '#', 'X', 'X', '!', '!', 'X', '!'], [
      '!!!', 'O', '!!!', '!!!', 'O', '#', '!!', '!!!', '!', '!!!', 'O', 'O', 'X', '!!!'], ['!!', 'X', 'O', '!!!', '!!', 'O', '#', 'X', 'O', 'X', '!!', 'X', '#', '!'], ['X', '#', '!!!', '!!!', '!!', '#', '!', '!!', 'O', '!', 'O', '#', '!!!', '#'], ['!', '#', '!', '!!!', '!!!', 'X', '!', 'X', '#', '!!', '!', '!!', 'X', '!!!'], ['!!!', '#', '#', '!!', 'O', '!!', '#', '!!!', '#', '#', '!!', '#', '!', 'O'], ['!!!', 'X', 'O', '!!', 'X', '!', 'O', 'X', 'O', '!!!', '#', '#', '#', '#'], ['X', 'X', '!!!', '!!', 'O', '#', 'O', '#', 'X', 'X', 'X', '!!!', '!', '!!!']]))
